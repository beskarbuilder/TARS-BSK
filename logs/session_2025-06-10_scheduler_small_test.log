(tars_venv) tarsadmin@tarspi:~/tars_files $ python3 /home/tarsadmin/tars_files/core/tars_core.py
âœ… Backend GPIO configurado: lgpio
2025-06-10 20:05:33,010 - modules.semantic_engine - INFO - ğŸ§  Motor semÃ¡ntico inicializado con modelo en: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-10 20:05:37,246 - modules.semantic_engine - INFO - ğŸ“‚ Cargando modelo desde: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-10 20:05:37,247 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-10 20:05:37,247 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-10 20:05:37,585 - modules.semantic_engine - INFO - âœ… Modelo cargado correctamente
Batches: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00<00:00, 32.81it/s]
2025-06-10 20:05:37,619 - modules.semantic_engine - INFO - ğŸ§ª Test de inferencia exitoso: vector de dimensiÃ³n 384
2025-06-10 20:05:37,619 - memory.semantic_storage - INFO - Almacenamiento semÃ¡ntico inicializado en: /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-10 20:05:37,624 - memory.semantic_storage - INFO - Cargados 8 embeddings desde /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-10 20:05:37,626 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-10 20:05:37,626 - modules.preferences_manager - INFO -    âœ¨ Entusiasmo (nivel 2+): 2
2025-06-10 20:05:37,626 - modules.preferences_manager - INFO -    ğŸ˜ Neutro (nivel 0-1): 0
2025-06-10 20:05:37,626 - modules.preferences_manager - INFO -    ğŸ™„ Sarcasmo (nivel <0): 3
2025-06-10 20:05:37,626 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-10 20:05:37,630 - TARS.emotion - INFO - âœ… Cargado sarcasmo: 11 temas, 8 patrones, 9 keywords
2025-06-10 20:05:37,632 - TARS.emotion - INFO - âœ… Cargado empatia: 7 temas, 5 patrones, 5 keywords
2025-06-10 20:05:37,634 - TARS.emotion - INFO - âœ… Cargado legacy: 7 temas, 4 patrones, 7 keywords
2025-06-10 20:05:37,634 - TARS - INFO - âœ… Estado emocional inicial: sarcasmo: 85%, empatia: 10%, legacy: 40%
2025-06-10 20:05:37,635 - TARS.LED - INFO - âœ… LED 'azul' inicializado en GPIO17
2025-06-10 20:05:37,635 - TARS.LED - INFO - âœ… LED 'rojo' inicializado en GPIO27
2025-06-10 20:05:37,636 - TARS.LED - INFO - âœ… LED 'verde' inicializado en GPIO22
2025-06-10 20:05:37,636 - TARS - INFO - Detector de intenciones inicializado
2025-06-10 20:05:37,636 - TARS.TTS - INFO - ğŸ›ï¸ Filtro de radio activado: banda=[200, 3500], ruido=True, compresiÃ³n=True, efecto_mando=False, ganancia=0.0dB
2025-06-10 20:05:37,639 - TARS - INFO - ğŸ“Š Preferencias recuperadas: 14
2025-06-10 20:05:37,639 - TARS - INFO - ğŸ§  Preferencias cargadas al inicio: 12 gustos, 2 disgustos
2025-06-10 20:05:37,640 - modules.speaker_identifier - INFO - âœ… Identificador de hablantes inicializado con 1 perfiles
2025-06-10 20:05:37,640 - TARS - INFO - âœ… Identificador de hablantes inicializado
2025-06-10 20:05:37,640 - TARS - INFO - âœ… Cargando modelo desde ai_models/phi3/Phi-3-mini-4k-instruct.Q4_K_M.gguf...
llama_init_from_model: n_ctx_per_seq (160) < n_ctx_train (4096) -- the full capacity of the model will not be utilized
2025-06-10 20:05:37,792 - TARS - INFO - âœ… Modelo cargado en 0.15 segundos
2025-06-10 20:05:37,792 - TARS - INFO - ğŸ”Œ Inicializando sistema de plugins...
2025-06-10 20:05:37,793 - TARS.PluginSystem - INFO - ğŸ“‹ ConfiguraciÃ³n de plugins cargada correctamente
2025-06-10 20:05:37,793 - TARS.PluginSystem - INFO - âœ… Plugins habilitados: homeassistant, time, reminder
2025-06-10 20:05:37,793 - TARS.PluginSystem - INFO - ğŸ”Œ Sistema de plugins inicializado
2025-06-10 20:05:37,793 - TARS.PluginSystem - INFO - ğŸš€ Inicializando 3 plugins en orden: ['reminder', 'time', 'homeassistant']
2025-06-10 20:05:37,793 - TARS.PluginSystem - WARNING - âš ï¸ SchedulerPlugin no encontrado, creando uno bÃ¡sico
2025-06-10 20:05:37,793 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-10 20:05:37,793 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-10 20:05:37,793 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-10 20:05:37,794 - TARS.SchedulerPlugin - INFO - ğŸ“‚ Cargados 71 trabajos existentes
2025-06-10 20:05:37,794 - TARS.SchedulerPlugin - INFO - ğŸ—“ï¸ SchedulerPlugin bÃ¡sico inicializado
2025-06-10 20:05:37,794 - TARS.PluginSystem - INFO - âœ… SchedulerPlugin bÃ¡sico creado
2025-06-10 20:05:37,794 - TARS.ReminderParser - WARNING - No se pudo configurar el locale en espaÃ±ol
2025-06-10 20:05:37,794 - TARS.ReminderParser - INFO - ğŸ—“ï¸ ReminderParser inicializado
2025-06-10 20:05:37,794 - TARS.ReminderPlugin - INFO - ğŸ—“ï¸ ReminderPlugin inicializado
2025-06-10 20:05:37,794 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Plugin Reminder inicializado
2025-06-10 20:05:37,795 - TARS.TimePlugin - INFO - ğŸ• TimePlugin inicializado
2025-06-10 20:05:37,795 - TARS.PluginSystem - INFO - ğŸ• Plugin Time inicializado
2025-06-10 20:05:37,796 - TARS.HomeAssistantPlugin - INFO - Plugin Home Assistant inicializado: 192.168.50.112:8084
2025-06-10 20:05:37,812 - TARS.HomeAssistantPlugin - INFO - âœ… ConexiÃ³n con Home Assistant exitosa
2025-06-10 20:05:37,812 - TARS.PluginSystem - INFO - ğŸ  Plugin HomeAssistant inicializado
2025-06-10 20:05:37,812 - TARS - INFO - âœ… Sistema de plugins inicializado correctamente
2025-06-10 20:05:37,813 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-10 20:05:37,813 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-10 20:05:37,813 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-10 20:05:37,813 - TARS.SchedulerPlugin - INFO - ğŸ“‚ Cargados 71 trabajos existentes
2025-06-10 20:05:37,813 - TARS.SchedulerPlugin - INFO - ğŸ—“ï¸ SchedulerPlugin bÃ¡sico inicializado
2025-06-10 20:05:37,813 - TARS - INFO - âœ… SchedulerPlugin inicializado
2025-06-10 20:05:37,813 - TARS - INFO - âœ… TARS inicializado en 0.17 segundos
Â¿Usar entrada por voz? (S): s

ğŸ¤ Dispositivos de audio disponibles:
  [0] USB Audio Device: - (hw:0,0) - 44100Hz
  [1] sysdefault - 48000Hz
  [5] spdif - 44100Hz
  [6] default - 48000Hz
âœ… Seleccionado automÃ¡ticamente: [0] USB Audio Device: - (hw:0,0)
âš ï¸ Dispositivo no admite 16000 Hz, usando 44100 Hz con resampling
LOG (VoskAPI:ReadDataFiles():model.cc:213) Decoding params beam=13 max-active=7000 lattice-beam=6
LOG (VoskAPI:ReadDataFiles():model.cc:216) Silence phones 1:2:3:4:5:6:7:8:9:10
LOG (VoskAPI:RemoveOrphanNodes():nnet-nnet.cc:948) Removed 0 orphan nodes.
LOG (VoskAPI:RemoveOrphanComponents():nnet-nnet.cc:847) Removing 0 orphan components.
LOG (VoskAPI:ReadDataFiles():model.cc:248) Loading i-vector extractor from ai_models/vosk/model/ivector/final.ie
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:183) Computing derived variables for iVector extractor
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:204) Done.
LOG (VoskAPI:ReadDataFiles():model.cc:279) Loading HCLG from ai_models/vosk/model/graph/HCLG.fst
LOG (VoskAPI:ReadDataFiles():model.cc:297) Loading words from ai_models/vosk/model/graph/words.txt
LOG (VoskAPI:ReadDataFiles():model.cc:308) Loading winfo ai_models/vosk/model/graph/phones/word_boundary.int
LOG (VoskAPI:ReadDataFiles():model.cc:315) Loading subtract G.fst model from ai_models/vosk/model/rescore/G.fst
LOG (VoskAPI:ReadDataFiles():model.cc:317) Loading CARPA model from ai_models/vosk/model/rescore/G.carpa
LOG (VoskAPI:ReadDataFiles():model.cc:323) Loading RNNLM model from ai_models/vosk/model/rnnlm/final.raw
âœ… Modelo de voz cargado desde ai_models/vosk/model
âœ… Configurado resampling de 44100Hz a 16000Hz
2025-06-10 20:06:04,851 - TARS - INFO - âœ… SpeechListener inicializado correctamente

ğŸ¤ Di 'oye tars' para comenzar (Ctrl+C para salir)

ğŸ¤ Escuchando... Di 'oye TARS' o algo parecido
ğŸ—£ï¸ Escuchado: tags
ğŸ”¥ Wakeword detectada por coincidencia difusa
2025-06-10 20:06:10,233 - TARS - INFO - ğŸ” IdentificaciÃ³n de hablante preparada pero no implementada en esta fase
2025-06-10 20:06:10,234 - TARS - INFO - â¡ï¸ Reproduciendo fragmento: 'SÃ­, dime.'
2025-06-10 20:06:10,234 - TARS.TTS - INFO - ğŸ—£ï¸ Generando voz: 'SÃ­, dime.'
2025-06-10 20:06:10,898 - TARS.TTS - INFO - ğŸ›ï¸ Aplicando Filtro de radio estÃ¡ndar [banda: 200-3500Hz]...
2025-06-10 20:06:10,906 - TARS.RadioFilter - INFO - ğŸ•’ Tiempo de procesamiento de filtro Mandaloriano: 0.008s
2025-06-10 20:06:12,103 - TARS.TTS - INFO - ğŸ”Š ReproducciÃ³n completada
â±ï¸ Wakeword reconocida en 3.77s
ğŸ¤ Ahora puedes hablar...
ğŸ¤ Escuchando tu pregunta...
[VOSK] Texto detectado: 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro' (confianza: 1.00)
ğŸ—£ï¸ Entendido: recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro
ğŸ§  Procesando: recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro
2025-06-10 20:06:22,607 - TARS.PluginSystem - INFO - ğŸ” PluginSystem recibiÃ³ comando: 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,607 - TARS.PluginSystem - INFO - ğŸ”Œ Plugins activos: ['reminder', 'time', 'homeassistant']
2025-06-10 20:06:22,607 - TARS.PluginSystem - INFO - ğŸ• Llamando a TimePlugin.process_command()
2025-06-10 20:06:22,607 - TARS.TimePlugin - INFO - ğŸ• TimePlugin analizando: 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,607 - TARS.TimePlugin - INFO - ğŸ• TimePlugin: comando es un recordatorio, pasando
2025-06-10 20:06:22,607 - TARS.PluginSystem - INFO - ğŸ• Respuesta de TimePlugin: â„¹ï¸ Comando no reconocido
2025-06-10 20:06:22,607 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Llamando a ReminderPlugin.process_command()
2025-06-10 20:06:22,607 - TARS.ReminderPlugin - INFO - ğŸ—“ï¸ ReminderPlugin analizando: 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,614 - TARS.ReminderPlugin - INFO - ğŸ¯ IntenciÃ³n detectada: crear_recordatorio (confianza: 95%)
2025-06-10 20:06:22,616 - TARS.ReminderParser - INFO - ğŸ” DEBUG: _check_special_date_cases llamado
2025-06-10 20:06:22,616 - TARS.ReminderParser - INFO - ğŸ” DEBUG: texto='recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,616 - TARS.ReminderParser - INFO - ğŸ” DEBUG: fecha_detectada=None
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ” DEBUG: NingÃºn caso especial detectado
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ› DEBUG TOTAL: texto_original = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ› DEBUG: despues_este_mes = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ§¹ DEBUG: limpieza_dia_recibio = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ§¹ DEBUG: resultado_final = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro' â†’ 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ› DEBUG: despues_limpiar_dia = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ› DEBUG: despues_normalizar = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las 4'
2025-06-10 20:06:22,617 - TARS.ReminderParser - INFO - ğŸ› DEBUG: llamando_dateparser_con = 'recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las 4'
2025-06-10 20:06:22,644 - TARS.ReminderParser - INFO - ğŸ› DEBUG: dateparser_retorno = None
2025-06-10 20:06:22,645 - TARS.ReminderParser - INFO - ğŸ› DEBUG: âŒ dateparser_fallo, probando_alternativas
2025-06-10 20:06:22,647 - TARS.ReminderParser - INFO - ğŸ› DEBUG: âœ… estrategia_relativa_funciono = 2025-06-11 04:00:00
2025-06-10 20:06:22,647 - TARS.ReminderParser - INFO - ğŸ” DEBUG: _check_special_date_cases llamado
2025-06-10 20:06:22,647 - TARS.ReminderParser - INFO - ğŸ” DEBUG: texto='recuÃ©rdame escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro'
2025-06-10 20:06:22,647 - TARS.ReminderParser - INFO - ğŸ” DEBUG: fecha_detectada=2025-06-11 04:00:00
2025-06-10 20:06:22,647 - TARS.ReminderParser - INFO - ğŸ” DEBUG: NingÃºn caso especial detectado
2025-06-10 20:06:22,652 - TARS.SchedulerPlugin - INFO - âœ… Trabajo aÃ±adido: job_0071 - Escuchar si el disco duro externo susurra secretos cuando nadie mira a las cuatro
2025-06-10 20:06:22,652 - TARS.ReminderPlugin - INFO - âœ… Recordatorio creado: escuchar si el disco duro externo susurra secretos cuando nadie mira maÃ±ana a las cuatro
2025-06-10 20:06:22,653 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Respuesta de ReminderPlugin: âœ… Comando procesado
2025-06-10 20:06:22,653 - TARS - INFO - ğŸ”Œ Comando procesado por plugin: Recordatorio programado: 'Escu...
2025-06-10 20:06:22,653 - TARS - INFO - â¡ï¸ Reproduciendo fragmento: 'Recordatorio programado: 'Escuchar si el disco duro externo susurra secretos cuando nadie mira a las cuatro' para el miÃ©rcoles 11 de junio a las 04:00'
2025-06-10 20:06:22,653 - TARS.TTS - INFO - ğŸ—£ï¸ Generando voz: 'Recordatorio programado: 'Escuchar si el disco duro externo susurra secretos cuando nadie mira a las cuatro' para el miÃ©rcoles 11 de junio a las 04:00'
2025-06-10 20:06:24,880 - TARS.TTS - INFO - ğŸ›ï¸ Aplicando Filtro de radio estÃ¡ndar [banda: 200-3500Hz]...
2025-06-10 20:06:24,944 - TARS.RadioFilter - INFO - ğŸ•’ Tiempo de procesamiento de filtro Mandaloriano: 0.065s
2025-06-10 20:06:34,782 - TARS.TTS - INFO - ğŸ”Š ReproducciÃ³n completada
TARS: Recordatorio programado: 'Escuchar si el disco duro externo susurra secretos cuando nadie mira a las cuatro' para el miÃ©rcoles 11 de junio a las 04:00
â±ï¸ Tiempo comando: 9.50s
ğŸ¤ Ahora puedes hablar...
ğŸ¤ Escuchando tu pregunta...
^C
ğŸ‘‹ Saliendo...