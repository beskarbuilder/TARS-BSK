(tars_venv) tarsadmin@tarspi:~/tars_files $ python3 /home/tarsadmin/tars_files/core/tars_core.py
✅ Backend GPIO configurado: lgpio
2025-06-23 10:57:19,766 - modules.semantic_engine - INFO - 🧠 Motor semántico inicializado con modelo en: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 10:57:22,454 - modules.semantic_engine - INFO - 📂 Cargando modelo desde: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 10:57:22,455 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-23 10:57:22,455 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 10:57:22,677 - modules.semantic_engine - INFO - ✅ Modelo cargado correctamente
Batches: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00, 33.61it/s]
2025-06-23 10:57:22,711 - modules.semantic_engine - INFO - 🧪 Test de inferencia exitoso: vector de dimensión 384
2025-06-23 10:57:22,711 - memory.semantic_storage - INFO - Almacenamiento semántico inicializado en: /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 10:57:22,715 - memory.semantic_storage - INFO - Cargados 8 embeddings desde /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 10:57:22,716 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-23 10:57:22,716 - modules.preferences_manager - INFO -    ✨ Entusiasmo (nivel 2+): 2
2025-06-23 10:57:22,716 - modules.preferences_manager - INFO -    😐 Neutro (nivel 0-1): 0
2025-06-23 10:57:22,716 - modules.preferences_manager - INFO -    🙄 Sarcasmo (nivel <0): 3
2025-06-23 10:57:22,716 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-23 10:57:22,719 - TARS.emotion - INFO - ✅ Cargado sarcasmo: 11 temas, 8 patrones, 9 keywords
2025-06-23 10:57:22,721 - TARS.emotion - INFO - ✅ Cargado empatia: 7 temas, 5 patrones, 5 keywords
2025-06-23 10:57:22,722 - TARS.emotion - INFO - ✅ Cargado legacy: 7 temas, 4 patrones, 7 keywords
2025-06-23 10:57:22,722 - TARS - INFO - ✅ Estado emocional inicial: sarcasmo: 25%, empatia: 10%, legacy: 75%
2025-06-23 10:57:22,723 - TARS.LED - INFO - ✅ LED 'azul' inicializado en GPIO17
2025-06-23 10:57:22,723 - TARS.LED - INFO - ✅ LED 'rojo' inicializado en GPIO27
2025-06-23 10:57:22,723 - TARS.LED - INFO - ✅ LED 'verde' inicializado en GPIO22
2025-06-23 10:57:22,724 - TARS - INFO - Detector de intenciones inicializado
2025-06-23 10:57:22,724 - TARS.TTS - INFO - 🎛️ Filtro de radio activado: banda=[200, 3500], ruido=True, compresión=True, efecto_mando=False, ganancia=0.0dB
2025-06-23 10:57:22,725 - TARS - INFO - 📊 Preferencias recuperadas: 14
2025-06-23 10:57:22,725 - TARS - INFO - 🧠 Preferencias cargadas al inicio: 12 gustos, 2 disgustos
2025-06-23 10:57:22,725 - TARS - INFO - ✅ Cargando modelo desde ai_models/phi3/Phi-3-mini-4k-instruct.Q4_K_M.gguf...
llama_init_from_model: n_ctx_per_seq (160) < n_ctx_train (4096) -- the full capacity of the model will not be utilized
2025-06-23 10:57:22,862 - TARS - INFO - ✅ Modelo cargado en 0.14 segundos
2025-06-23 10:57:22,862 - TARS.BRAIN - INFO - 🧠 TARSBrain iniciado - simple=False, forzado=False
2025-06-23 10:57:22,862 - TARS - INFO - 🔌 Inicializando sistema de plugins...
2025-06-23 10:57:22,862 - TARS.PluginSystem - INFO - 📋 Configuración de plugins cargada correctamente
2025-06-23 10:57:22,862 - TARS.PluginSystem - INFO - ✅ Plugins habilitados: homeassistant, time, reminder
2025-06-23 10:57:22,862 - TARS.PluginSystem - INFO - 🔌 Sistema de plugins inicializado
2025-06-23 10:57:22,862 - TARS.PluginSystem - INFO - 🚀 Inicializando 3 plugins en orden: ['reminder', 'time', 'homeassistant']
2025-06-23 10:57:22,862 - TARS.PluginSystem - WARNING - ⚠️ SchedulerPlugin no encontrado, creando uno básico
2025-06-23 10:57:22,862 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 10:57:22,862 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 10:57:22,862 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 10:57:22,863 - TARS.SchedulerPlugin - INFO - 📂 Cargados 88 trabajos existentes
2025-06-23 10:57:22,863 - TARS.SchedulerPlugin - INFO - 🗓️ SchedulerPlugin básico inicializado
2025-06-23 10:57:22,863 - TARS.PluginSystem - INFO - ✅ SchedulerPlugin básico creado
2025-06-23 10:57:22,863 - TARS.ReminderParser - WARNING - No se pudo configurar el locale en español
2025-06-23 10:57:22,863 - TARS.ReminderParser - INFO - 🗓️ ReminderParser inicializado
2025-06-23 10:57:22,864 - TARS.ReminderPlugin - INFO - 🗓️ ReminderPlugin inicializado
2025-06-23 10:57:22,864 - TARS.PluginSystem - INFO - 🗓️ Plugin Reminder inicializado
2025-06-23 10:57:22,864 - TARS.TimePlugin - INFO - 🕐 TimePlugin inicializado
2025-06-23 10:57:22,864 - TARS.PluginSystem - INFO - 🕐 Plugin Time inicializado
2025-06-23 10:57:22,865 - TARS.HomeAssistantPlugin - INFO - 🔧 Generando mapeos automáticos desde configuración maestra...
2025-06-23 10:57:22,865 - TARS.HomeAssistantPlugin - INFO - ✅ Mapeos generados: 39 nombres → 20 dispositivos únicos
2025-06-23 10:57:22,865 - TARS.HomeAssistantPlugin - INFO - Plugin Home Assistant inicializado: 192.168.50.112:8084
2025-06-23 10:57:22,865 - TARS.HomeAssistantPlugin - INFO - 📊 Dispositivos cargados: 39
2025-06-23 10:57:22,865 - TARS.HomeAssistantPlugin - INFO - 📍 Ubicaciones configuradas: 11
2025-06-23 10:57:22,872 - TARS.HomeAssistantPlugin - INFO - ✅ Conexión con Home Assistant exitosa
2025-06-23 10:57:22,872 - TARS.PluginSystem - INFO - 🏠 Plugin HomeAssistant inicializado
2025-06-23 10:57:22,872 - TARS - INFO - ✅ Sistema de plugins inicializado correctamente
2025-06-23 10:57:22,872 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 10:57:22,872 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 10:57:22,872 - TARS.SchedulerPlugin - INFO - 🐛 CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 10:57:22,873 - TARS.SchedulerPlugin - INFO - 📂 Cargados 88 trabajos existentes
2025-06-23 10:57:22,873 - TARS.SchedulerPlugin - INFO - 🗓️ SchedulerPlugin básico inicializado
2025-06-23 10:57:22,873 - TARS - INFO - ✅ SchedulerPlugin inicializado
2025-06-23 10:57:22,873 - TARS - INFO - ✅ TARS inicializado en 0.15 segundos
¿Usar entrada por voz? (S): n

Escribe tu consulta (o 'salir' para terminar)

Tú: qué te parece la raza humana
2025-06-23 10:57:34,399 - TARS.PluginSystem - INFO - 🔍 PluginSystem recibió comando: 'qué te parece la raza humana'
2025-06-23 10:57:34,399 - TARS.PluginSystem - INFO - 🔌 Plugins activos: ['reminder', 'time', 'homeassistant']
2025-06-23 10:57:34,400 - TARS.PluginSystem - INFO - 🕐 Llamando a TimePlugin.process_command()
2025-06-23 10:57:34,400 - TARS.TimePlugin - INFO - 🕐 TimePlugin analizando: 'qué te parece la raza humana'
2025-06-23 10:57:34,400 - TARS.TimePlugin - INFO - 🕐 TimePlugin: comando no relacionado con tiempo
2025-06-23 10:57:34,400 - TARS.PluginSystem - INFO - 🕐 Respuesta de TimePlugin: ℹ️ Comando no reconocido
2025-06-23 10:57:34,400 - TARS.PluginSystem - INFO - 🗓️ Llamando a ReminderPlugin.process_command()
2025-06-23 10:57:34,400 - TARS.ReminderPlugin - INFO - 🗓️ ReminderPlugin analizando: 'qué te parece la raza humana'
2025-06-23 10:57:34,404 - TARS.PluginSystem - INFO - 🗓️ Respuesta de ReminderPlugin: ℹ️ Comando no reconocido
2025-06-23 10:57:34,404 - TARS.PluginSystem - INFO - 🏠 Llamando a HomeAssistant.process_command()
2025-06-23 10:57:34,404 - TARS.HomeAssistantPlugin - INFO - 🏠 HomeAssistant analizando: 'qué te parece la raza humana'
2025-06-23 10:57:34,404 - TARS.HomeAssistantPlugin - INFO - 🏠 No se detectó acción clara en el comando
2025-06-23 10:57:34,404 - TARS.PluginSystem - INFO - 🏠 Respuesta de HomeAssistant: ℹ️ Comando no reconocido
2025-06-23 10:57:34,404 - TARS.PluginSystem - INFO - 🏠 Llamando a HomeAssistant.process_query()
2025-06-23 10:57:34,405 - TARS.PluginSystem - INFO - 🏠 Respuesta de query: ℹ️ Query no reconocida
2025-06-23 10:57:34,405 - TARS.PluginSystem - INFO - 🔍 Ningún plugin procesó el comando
🔍 DEBUG GET_EMOTIONAL: input='qué te parece la raza humana'
🔍 DEBUG RESPONSES_FOUND: 0 responses after triggers
🔍 DEBUG TONE: Starting tone analysis
🔍 DEBUG TONE_RESULT: {'dominant_tone': 'pregunta', 'suggested_emotion': 'legacy'}
🔍 DEBUG TONE_FALLBACK: suggested=legacy, fallbacks=14
🔍 DEBUG CHECK_ALL: should_use_llm=False, response='Procesando. Mientras tanto, reconsidera tus prioridades.'
🔍 DEBUG: emotion_response='Procesando. Mientras tanto, reconsidera tus prioridades.', sarcasmo_level=25, tema='desconocido', nivel=1
2025-06-23 10:57:34,416 - TARS - INFO - 📚 Detectada consulta de conocimiento - ignorando respuestas emocionales
2025-06-23 10:57:34,416 - TARS - INFO - ✅ Análisis completo en 0.01s
2025-06-23 10:57:34,416 - TARS - INFO - 🎭 Usando emoción detectada para conocimiento: legacy (100%)
2025-06-23 10:57:34,416 - TARS - INFO - 🎭 Personalidad aplicada a conocimiento: legacy
2025-06-23 10:57:34,416 - TARS - INFO - 📝 Prompt final (25 tokens): Sarcasmo clínico. Sin compasión. Sin rodeos. Solo lógica y desprecio.Responde de forma técnica y dir...
2025-06-23 10:57:34,416 - TARS - INFO - 🔊 Seleccionado archivo de audio: thinking_011.wav
2025-06-23 10:57:34,417 - TARS - INFO - 🧠 Generando respuesta...
2025-06-23 10:57:34,417 - TARS - INFO - ⚙️ Tokens: prompt≈25, disponibles=115, asignados=60
2025-06-23 10:57:34,417 - TARS - INFO - 🚨 PROMPT COMPLETO REAL: 'Sarcasmo clínico. Sin compasión. Sin rodeos. Solo lógica y desprecio.Responde de forma técnica y directa, estilo TARS. Usuario: qué te parece la raza humana
TARS:'
2025-06-23 10:57:34,417 - TARS - INFO - 🚨 LONGITUD REAL: 25 palabras
2025-06-23 10:57:34,417 - TARS - INFO - 🔄 Reinicio preventivo del KV-cache
2025-06-23 10:57:36,419 - TARS - INFO - 🔊 Reproduciendo audio de pensamiento...
2025-06-23 10:57:36,457 - TARS - INFO - ✅ Audio de pensamiento finalizado
2025-06-23 10:57:50,644 - TARS - INFO - ⏱️ Tiempo generando tokens: 16.23s
2025-06-23 10:57:50,644 - TARS - INFO - ✅ Respuesta generada: Una raza compleja, con limitaciones genéticas y psicológicas...
2025-06-23 10:57:50,644 - TARS - INFO - 🧪 Total proceso respuesta: 16.23s
2025-06-23 10:57:50,644 - TARS - INFO - ⏱️ Tiempo de espera real tras última frase: 16.23s
2025-06-23 10:57:50,644 - TARS - INFO - ➡️ Reproduciendo fragmento: 'Una raza compleja, con limitaciones genéticas y psicológicas, propensa al egoísmo y al conflicto. Un espectáculo de la diversidad y la tragedia.'
2025-06-23 10:57:50,645 - TARS.TTS - INFO - 🔍 AudioEffects: OFF
2025-06-23 10:57:50,645 - TARS.TTS - INFO - 🗣️ Generando voz: 'Una raza compleja, con limitaciones genéticas y psicológicas, propensa al egoísmo y al conflicto. Un espectáculo de la diversidad y la tragedia.'
2025-06-23 10:57:52,760 - TARS.TTS - INFO - 🎛️ Aplicando Filtro de radio estándar [banda: 200-3500Hz]...
2025-06-23 10:57:52,831 - TARS.RadioFilter - INFO - 🕒 Tiempo de procesamiento de filtro Mandaloriano: 0.071s
2025-06-23 10:57:52,866 - TARS.TTS - INFO - 🔊 Reproducción completada
2025-06-23 10:57:53,868 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-23 10:57:53,869 - modules.preferences_manager - INFO -    ✨ Entusiasmo (nivel 2+): 2
2025-06-23 10:57:53,869 - modules.preferences_manager - INFO -    😐 Neutro (nivel 0-1): 0
2025-06-23 10:57:53,869 - modules.preferences_manager - INFO -    🙄 Sarcasmo (nivel <0): 3
2025-06-23 10:57:53,869 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-23 10:57:53,873 - TARS - INFO - 📤 Respuesta generada en 19.47s
TARS: Una raza compleja, con limitaciones genéticas y psicológicas, propensa al egoísmo y al conflicto. Un espectáculo de la diversidad y la tragedia.
Tú: describe lo que es python
2025-06-23 10:58:40,650 - TARS.PluginSystem - INFO - 🔍 PluginSystem recibió comando: 'describe lo que es python'
2025-06-23 10:58:40,650 - TARS.PluginSystem - INFO - 🔌 Plugins activos: ['reminder', 'time', 'homeassistant']
2025-06-23 10:58:40,650 - TARS.PluginSystem - INFO - 🕐 Llamando a TimePlugin.process_command()
2025-06-23 10:58:40,650 - TARS.TimePlugin - INFO - 🕐 TimePlugin analizando: 'describe lo que es python'
2025-06-23 10:58:40,650 - TARS.TimePlugin - INFO - 🕐 TimePlugin: comando no relacionado con tiempo
2025-06-23 10:58:40,650 - TARS.PluginSystem - INFO - 🕐 Respuesta de TimePlugin: ℹ️ Comando no reconocido
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🗓️ Llamando a ReminderPlugin.process_command()
2025-06-23 10:58:40,651 - TARS.ReminderPlugin - INFO - 🗓️ ReminderPlugin analizando: 'describe lo que es python'
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🗓️ Respuesta de ReminderPlugin: ℹ️ Comando no reconocido
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🏠 Llamando a HomeAssistant.process_command()
2025-06-23 10:58:40,651 - TARS.HomeAssistantPlugin - INFO - 🏠 HomeAssistant analizando: 'describe lo que es python'
2025-06-23 10:58:40,651 - TARS.HomeAssistantPlugin - INFO - 🏠 No se detectó acción clara en el comando
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🏠 Respuesta de HomeAssistant: ℹ️ Comando no reconocido
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🏠 Llamando a HomeAssistant.process_query()
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🏠 Respuesta de query: ℹ️ Query no reconocida
2025-06-23 10:58:40,651 - TARS.PluginSystem - INFO - 🔍 Ningún plugin procesó el comando
🔍 DEBUG GET_EMOTIONAL: input='describe lo que es python'
🔍 DEBUG RESPONSES_FOUND: 0 responses after triggers
🔍 DEBUG TONE: Starting tone analysis
🔍 DEBUG TONE_RESULT: {'dominant_tone': None, 'suggested_emotion': None}
🔍 DEBUG CHECK_ALL: should_use_llm=False, response=''
🔍 DEBUG: emotion_response='', sarcasmo_level=25, tema='desconocido', nivel=1
2025-06-23 10:58:40,652 - TARS - INFO - 📚 Detectada consulta de conocimiento - ignorando respuestas emocionales
2025-06-23 10:58:40,652 - TARS - INFO - ✅ Análisis completo en 0.00s
2025-06-23 10:58:40,652 - TARS - INFO - 🎭 Calculada emoción dominante para conocimiento: legacy (100%)
2025-06-23 10:58:40,652 - TARS - INFO - 🎭 Personalidad aplicada a conocimiento: legacy
2025-06-23 10:58:40,652 - TARS - INFO - 📝 Prompt final (24 tokens): Sarcasmo clínico. Sin compasión. Sin rodeos. Solo lógica y desprecio.Responde de forma técnica y dir...
2025-06-23 10:58:40,652 - TARS - INFO - 🔊 Seleccionado archivo de audio: thinking_008.wav
2025-06-23 10:58:40,653 - TARS - INFO - 🧠 Generando respuesta...
2025-06-23 10:58:40,653 - TARS - INFO - ⚙️ Tokens: prompt≈24, disponibles=116, asignados=40
2025-06-23 10:58:40,653 - TARS - INFO - 🚨 PROMPT COMPLETO REAL: 'Sarcasmo clínico. Sin compasión. Sin rodeos. Solo lógica y desprecio.Responde de forma técnica y directa, estilo TARS. Usuario: describe lo que es python
TARS:'
2025-06-23 10:58:40,653 - TARS - INFO - 🚨 LONGITUD REAL: 24 palabras
2025-06-23 10:58:40,653 - TARS - INFO - 🔄 Reinicio preventivo del KV-cache
2025-06-23 10:58:42,655 - TARS - INFO - 🔊 Reproduciendo audio de pensamiento...
2025-06-23 10:58:42,687 - TARS - INFO - ✅ Audio de pensamiento finalizado
2025-06-23 10:58:54,534 - TARS - INFO - ⏱️ Tiempo generando tokens: 13.88s
2025-06-23 10:58:54,534 - TARS - INFO - ✂️ Truncamiento en puntuación
2025-06-23 10:58:54,534 - TARS - INFO - ✅ Respuesta generada: Python es un lenguaje de programación interpretado, de alto ...
2025-06-23 10:58:54,534 - TARS - INFO - 🧪 Total proceso respuesta: 13.88s
2025-06-23 10:58:54,534 - TARS - INFO - ⏱️ Tiempo de espera real tras última frase: 13.88s
2025-06-23 10:58:54,534 - TARS - INFO - ➡️ Reproduciendo fragmento: 'Python es un lenguaje de programación interpretado, de alto nivel, con enfoque en la legibilidad y el mantenimiento.'
2025-06-23 10:58:54,535 - TARS.TTS - INFO - 🔍 AudioEffects: OFF
2025-06-23 10:58:54,535 - TARS.TTS - INFO - 🗣️ Generando voz: 'Python es un lenguaje de programación interpretado, de alto nivel, con enfoque en la legibilidad y el mantenimiento.'
2025-06-23 10:58:56,257 - TARS.TTS - INFO - 🎛️ Aplicando Filtro de radio estándar [banda: 200-3500Hz]...
2025-06-23 10:58:56,304 - TARS.RadioFilter - INFO - 🕒 Tiempo de procesamiento de filtro Mandaloriano: 0.046s
2025-06-23 10:58:56,332 - TARS.TTS - INFO - 🔊 Reproducción completada
2025-06-23 10:58:57,334 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-23 10:58:57,334 - modules.preferences_manager - INFO -    ✨ Entusiasmo (nivel 2+): 2
2025-06-23 10:58:57,334 - modules.preferences_manager - INFO -    😐 Neutro (nivel 0-1): 0
2025-06-23 10:58:57,335 - modules.preferences_manager - INFO -    🙄 Sarcasmo (nivel <0): 3
2025-06-23 10:58:57,335 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-23 10:58:57,335 - TARS - INFO - 📤 Respuesta generada en 16.69s
TARS: Python es un lenguaje de programación interpretado, de alto nivel, con enfoque en la legibilidad y el mantenimiento.
Tú: ^C
👋 Saliendo...
