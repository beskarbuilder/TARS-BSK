# =======================================================================
# FIRST TIME
# =======================================================================

tarsadmin@tarspi:~/tars_files $ source ~/tars_venv/bin/activate
python3 /home/tarsadmin/tars_files/core/tars_core.py
‚úÖ Backend GPIO configurado: lgpio
2025-06-23 16:33:44,907 - modules.semantic_engine - INFO - üß† Motor sem√°ntico inicializado con modelo en: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:33:50,329 - modules.semantic_engine - INFO - üìÇ Cargando modelo desde: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:33:50,330 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-23 16:33:50,330 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:33:50,846 - modules.semantic_engine - INFO - ‚úÖ Modelo cargado correctamente
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00,  1.69it/s]
2025-06-23 16:33:51,443 - modules.semantic_engine - INFO - üß™ Test de inferencia exitoso: vector de dimensi√≥n 384
2025-06-23 16:33:51,443 - memory.semantic_storage - INFO - Almacenamiento sem√°ntico inicializado en: /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 16:33:51,450 - memory.semantic_storage - INFO - Cargados 8 embeddings desde /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 16:33:51,454 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-23 16:33:51,454 - modules.preferences_manager - INFO -    ‚ú® Entusiasmo (nivel 2+): 2
2025-06-23 16:33:51,454 - modules.preferences_manager - INFO -    üòê Neutro (nivel 0-1): 0
2025-06-23 16:33:51,454 - modules.preferences_manager - INFO -    üôÑ Sarcasmo (nivel <0): 3
2025-06-23 16:33:51,454 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-23 16:33:51,458 - TARS.emotion - INFO - ‚úÖ Cargado sarcasmo: 11 temas, 8 patrones, 9 keywords
2025-06-23 16:33:51,460 - TARS.emotion - INFO - ‚úÖ Cargado empatia: 7 temas, 5 patrones, 5 keywords
2025-06-23 16:33:51,462 - TARS.emotion - INFO - ‚úÖ Cargado legacy: 7 temas, 4 patrones, 7 keywords
2025-06-23 16:33:51,462 - TARS - INFO - ‚úÖ Estado emocional inicial: sarcasmo: 85%, empatia: 10%, legacy: 40%
2025-06-23 16:33:51,463 - TARS.LED - INFO - ‚úÖ LED 'azul' inicializado en GPIO17
2025-06-23 16:33:51,463 - TARS.LED - INFO - ‚úÖ LED 'rojo' inicializado en GPIO27
2025-06-23 16:33:51,464 - TARS.LED - INFO - ‚úÖ LED 'verde' inicializado en GPIO22
2025-06-23 16:33:51,464 - TARS - INFO - Detector de intenciones inicializado
2025-06-23 16:33:51,465 - TARS.TTS - INFO - üéõÔ∏è Filtro de radio activado: banda=[200, 3500], ruido=True, compresi√≥n=True, efecto_mando=False, ganancia=0.0dB
2025-06-23 16:33:51,477 - TARS - INFO - üìä Preferencias recuperadas: 14
2025-06-23 16:33:51,477 - TARS - INFO - üß† Preferencias cargadas al inicio: 12 gustos, 2 disgustos
2025-06-23 16:33:51,478 - TARS - INFO - ‚úÖ Cargando modelo desde ai_models/phi3/Phi-3-mini-4k-instruct.Q4_K_M.gguf...
llama_init_from_model: n_ctx_per_seq (160) < n_ctx_train (4096) -- the full capacity of the model will not be utilized
2025-06-23 16:34:17,238 - TARS - INFO - ‚úÖ Modelo cargado en 25.76 segundos
2025-06-23 16:34:17,239 - TARS.BRAIN - INFO - üß† TARSBrain iniciado - simple=False, forzado=False
2025-06-23 16:34:17,239 - TARS - INFO - üîå Inicializando sistema de plugins...
2025-06-23 16:34:17,239 - TARS.PluginSystem - INFO - üìã Configuraci√≥n de plugins cargada correctamente
2025-06-23 16:34:17,239 - TARS.PluginSystem - INFO - ‚úÖ Plugins habilitados: homeassistant, time, reminder
2025-06-23 16:34:17,240 - TARS.PluginSystem - INFO - üîå Sistema de plugins inicializado
2025-06-23 16:34:17,240 - TARS.PluginSystem - INFO - üöÄ Inicializando 3 plugins en orden: ['reminder', 'time', 'homeassistant']
2025-06-23 16:34:17,240 - TARS.PluginSystem - WARNING - ‚ö†Ô∏è SchedulerPlugin no encontrado, creando uno b√°sico
2025-06-23 16:34:17,240 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 16:34:17,240 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 16:34:17,240 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 16:34:17,241 - TARS.SchedulerPlugin - INFO - üìÇ Cargados 88 trabajos existentes
2025-06-23 16:34:17,242 - TARS.SchedulerPlugin - INFO - üóìÔ∏è SchedulerPlugin b√°sico inicializado
2025-06-23 16:34:17,242 - TARS.PluginSystem - INFO - ‚úÖ SchedulerPlugin b√°sico creado
2025-06-23 16:34:17,242 - TARS.ReminderParser - WARNING - No se pudo configurar el locale en espa√±ol
2025-06-23 16:34:17,242 - TARS.ReminderParser - INFO - üóìÔ∏è ReminderParser inicializado
2025-06-23 16:34:17,242 - TARS.ReminderPlugin - INFO - üóìÔ∏è ReminderPlugin inicializado
2025-06-23 16:34:17,243 - TARS.PluginSystem - INFO - üóìÔ∏è Plugin Reminder inicializado
2025-06-23 16:34:17,243 - TARS.TimePlugin - INFO - üïê TimePlugin inicializado
2025-06-23 16:34:17,243 - TARS.PluginSystem - INFO - üïê Plugin Time inicializado
2025-06-23 16:34:17,245 - TARS.HomeAssistantPlugin - INFO - üîß Generando mapeos autom√°ticos desde configuraci√≥n maestra...
2025-06-23 16:34:17,245 - TARS.HomeAssistantPlugin - INFO - ‚úÖ Mapeos generados: 39 nombres ‚Üí 20 dispositivos √∫nicos
2025-06-23 16:34:17,245 - TARS.HomeAssistantPlugin - INFO - Plugin Home Assistant inicializado: 192.168.50.112:8084
2025-06-23 16:34:17,245 - TARS.HomeAssistantPlugin - INFO - üìä Dispositivos cargados: 39
2025-06-23 16:34:17,245 - TARS.HomeAssistantPlugin - INFO - üìç Ubicaciones configuradas: 11
2025-06-23 16:34:17,253 - TARS.HomeAssistantPlugin - INFO - ‚úÖ Conexi√≥n con Home Assistant exitosa
2025-06-23 16:34:17,254 - TARS.PluginSystem - INFO - üè† Plugin HomeAssistant inicializado
2025-06-23 16:34:17,254 - TARS - INFO - ‚úÖ Sistema de plugins inicializado correctamente
2025-06-23 16:34:17,254 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 16:34:17,254 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 16:34:17,254 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 16:34:17,254 - TARS.SchedulerPlugin - INFO - üìÇ Cargados 88 trabajos existentes
2025-06-23 16:34:17,255 - TARS.SchedulerPlugin - INFO - üóìÔ∏è SchedulerPlugin b√°sico inicializado
2025-06-23 16:34:17,255 - TARS - INFO - ‚úÖ SchedulerPlugin inicializado
2025-06-23 16:34:17,255 - TARS - INFO - ‚úÖ TARS inicializado en 25.78 segundos
¬øUsar entrada por voz? (S): s

üé§ Dispositivos de audio disponibles:
  [0] USB Audio Device: - (hw:0,0) - 44100Hz
  [1] sysdefault - 48000Hz
  [5] spdif - 44100Hz
  [6] default - 48000Hz
‚úÖ Seleccionado autom√°ticamente: [0] USB Audio Device: - (hw:0,0)
‚ö†Ô∏è Dispositivo no admite 16000 Hz, usando 44100 Hz con resampling
LOG (VoskAPI:ReadDataFiles():model.cc:213) Decoding params beam=13 max-active=7000 lattice-beam=6
LOG (VoskAPI:ReadDataFiles():model.cc:216) Silence phones 1:2:3:4:5:6:7:8:9:10
LOG (VoskAPI:RemoveOrphanNodes():nnet-nnet.cc:948) Removed 0 orphan nodes.
LOG (VoskAPI:RemoveOrphanComponents():nnet-nnet.cc:847) Removing 0 orphan components.
LOG (VoskAPI:ReadDataFiles():model.cc:248) Loading i-vector extractor from ai_models/vosk/model/ivector/final.ie
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:183) Computing derived variables for iVector extractor
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:204) Done.
LOG (VoskAPI:ReadDataFiles():model.cc:279) Loading HCLG from ai_models/vosk/model/graph/HCLG.fst
LOG (VoskAPI:ReadDataFiles():model.cc:297) Loading words from ai_models/vosk/model/graph/words.txt
LOG (VoskAPI:ReadDataFiles():model.cc:308) Loading winfo ai_models/vosk/model/graph/phones/word_boundary.int
LOG (VoskAPI:ReadDataFiles():model.cc:315) Loading subtract G.fst model from ai_models/vosk/model/rescore/G.fst
LOG (VoskAPI:ReadDataFiles():model.cc:317) Loading CARPA model from ai_models/vosk/model/rescore/G.carpa
LOG (VoskAPI:ReadDataFiles():model.cc:323) Loading RNNLM model from ai_models/vosk/model/rnnlm/final.raw
‚úÖ Modelo de voz cargado desde ai_models/vosk/model
‚úÖ Configurado resampling de 44100Hz a 16000Hz
2025-06-23 16:34:53,793 - TARS - INFO - ‚úÖ SpeechListener inicializado correctamente

üé§ Di 'oye tars' para comenzar (Ctrl+C para salir)

üé§ Escuchando... Di 'oye TARS' o algo parecido

# =======================================================================
# SECOND TIME
# =======================================================================

(tars_venv) tarsadmin@tarspi:~/tars_files $ python3 /home/tarsadmin/tars_files/core/tars_core.py
‚úÖ Backend GPIO configurado: lgpio
2025-06-23 16:35:21,770 - modules.semantic_engine - INFO - üß† Motor sem√°ntico inicializado con modelo en: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:35:25,858 - modules.semantic_engine - INFO - üìÇ Cargando modelo desde: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:35:25,859 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-23 16:35:25,859 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-23 16:35:26,179 - modules.semantic_engine - INFO - ‚úÖ Modelo cargado correctamente
Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 33.28it/s]
2025-06-23 16:35:26,212 - modules.semantic_engine - INFO - üß™ Test de inferencia exitoso: vector de dimensi√≥n 384
2025-06-23 16:35:26,213 - memory.semantic_storage - INFO - Almacenamiento sem√°ntico inicializado en: /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 16:35:26,217 - memory.semantic_storage - INFO - Cargados 8 embeddings desde /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-23 16:35:26,219 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-23 16:35:26,219 - modules.preferences_manager - INFO -    ‚ú® Entusiasmo (nivel 2+): 2
2025-06-23 16:35:26,220 - modules.preferences_manager - INFO -    üòê Neutro (nivel 0-1): 0
2025-06-23 16:35:26,220 - modules.preferences_manager - INFO -    üôÑ Sarcasmo (nivel <0): 3
2025-06-23 16:35:26,220 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-23 16:35:26,223 - TARS.emotion - INFO - ‚úÖ Cargado sarcasmo: 11 temas, 8 patrones, 9 keywords
2025-06-23 16:35:26,225 - TARS.emotion - INFO - ‚úÖ Cargado empatia: 7 temas, 5 patrones, 5 keywords
2025-06-23 16:35:26,227 - TARS.emotion - INFO - ‚úÖ Cargado legacy: 7 temas, 4 patrones, 7 keywords
2025-06-23 16:35:26,227 - TARS - INFO - ‚úÖ Estado emocional inicial: sarcasmo: 85%, empatia: 10%, legacy: 40%
2025-06-23 16:35:26,228 - TARS.LED - INFO - ‚úÖ LED 'azul' inicializado en GPIO17
2025-06-23 16:35:26,228 - TARS.LED - INFO - ‚úÖ LED 'rojo' inicializado en GPIO27
2025-06-23 16:35:26,228 - TARS.LED - INFO - ‚úÖ LED 'verde' inicializado en GPIO22
2025-06-23 16:35:26,229 - TARS - INFO - Detector de intenciones inicializado
2025-06-23 16:35:26,229 - TARS.TTS - INFO - üéõÔ∏è Filtro de radio activado: banda=[200, 3500], ruido=True, compresi√≥n=True, efecto_mando=False, ganancia=0.0dB
2025-06-23 16:35:26,244 - TARS - INFO - üìä Preferencias recuperadas: 14
2025-06-23 16:35:26,244 - TARS - INFO - üß† Preferencias cargadas al inicio: 12 gustos, 2 disgustos
2025-06-23 16:35:26,245 - TARS - INFO - ‚úÖ Cargando modelo desde ai_models/phi3/Phi-3-mini-4k-instruct.Q4_K_M.gguf...
llama_init_from_model: n_ctx_per_seq (160) < n_ctx_train (4096) -- the full capacity of the model will not be utilized
2025-06-23 16:35:26,387 - TARS - INFO - ‚úÖ Modelo cargado en 0.14 segundos
2025-06-23 16:35:26,387 - TARS.BRAIN - INFO - üß† TARSBrain iniciado - simple=False, forzado=False
2025-06-23 16:35:26,387 - TARS - INFO - üîå Inicializando sistema de plugins...
2025-06-23 16:35:26,388 - TARS.PluginSystem - INFO - üìã Configuraci√≥n de plugins cargada correctamente
2025-06-23 16:35:26,388 - TARS.PluginSystem - INFO - ‚úÖ Plugins habilitados: homeassistant, time, reminder
2025-06-23 16:35:26,388 - TARS.PluginSystem - INFO - üîå Sistema de plugins inicializado
2025-06-23 16:35:26,388 - TARS.PluginSystem - INFO - üöÄ Inicializando 3 plugins en orden: ['reminder', 'time', 'homeassistant']
2025-06-23 16:35:26,388 - TARS.PluginSystem - WARNING - ‚ö†Ô∏è SchedulerPlugin no encontrado, creando uno b√°sico
2025-06-23 16:35:26,388 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 16:35:26,388 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 16:35:26,388 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 16:35:26,389 - TARS.SchedulerPlugin - INFO - üìÇ Cargados 88 trabajos existentes
2025-06-23 16:35:26,389 - TARS.SchedulerPlugin - INFO - üóìÔ∏è SchedulerPlugin b√°sico inicializado
2025-06-23 16:35:26,389 - TARS.PluginSystem - INFO - ‚úÖ SchedulerPlugin b√°sico creado
2025-06-23 16:35:26,389 - TARS.ReminderParser - WARNING - No se pudo configurar el locale en espa√±ol
2025-06-23 16:35:26,389 - TARS.ReminderParser - INFO - üóìÔ∏è ReminderParser inicializado
2025-06-23 16:35:26,390 - TARS.ReminderPlugin - INFO - üóìÔ∏è ReminderPlugin inicializado
2025-06-23 16:35:26,390 - TARS.PluginSystem - INFO - üóìÔ∏è Plugin Reminder inicializado
2025-06-23 16:35:26,390 - TARS.TimePlugin - INFO - üïê TimePlugin inicializado
2025-06-23 16:35:26,390 - TARS.PluginSystem - INFO - üïê Plugin Time inicializado
2025-06-23 16:35:26,392 - TARS.HomeAssistantPlugin - INFO - üîß Generando mapeos autom√°ticos desde configuraci√≥n maestra...
2025-06-23 16:35:26,392 - TARS.HomeAssistantPlugin - INFO - ‚úÖ Mapeos generados: 39 nombres ‚Üí 20 dispositivos √∫nicos
2025-06-23 16:35:26,392 - TARS.HomeAssistantPlugin - INFO - Plugin Home Assistant inicializado: 192.168.50.112:8084
2025-06-23 16:35:26,392 - TARS.HomeAssistantPlugin - INFO - üìä Dispositivos cargados: 39
2025-06-23 16:35:26,392 - TARS.HomeAssistantPlugin - INFO - üìç Ubicaciones configuradas: 11
2025-06-23 16:35:26,399 - TARS.HomeAssistantPlugin - INFO - ‚úÖ Conexi√≥n con Home Assistant exitosa
2025-06-23 16:35:26,399 - TARS.PluginSystem - INFO - üè† Plugin HomeAssistant inicializado
2025-06-23 16:35:26,399 - TARS - INFO - ‚úÖ Sistema de plugins inicializado correctamente
2025-06-23 16:35:26,400 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-23 16:35:26,400 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-23 16:35:26,400 - TARS.SchedulerPlugin - INFO - üêõ CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-23 16:35:26,400 - TARS.SchedulerPlugin - INFO - üìÇ Cargados 88 trabajos existentes
2025-06-23 16:35:26,400 - TARS.SchedulerPlugin - INFO - üóìÔ∏è SchedulerPlugin b√°sico inicializado
2025-06-23 16:35:26,400 - TARS - INFO - ‚úÖ SchedulerPlugin inicializado
2025-06-23 16:35:26,400 - TARS - INFO - ‚úÖ TARS inicializado en 0.16 segundos
¬øUsar entrada por voz? (S): s

üé§ Dispositivos de audio disponibles:
  [0] USB Audio Device: - (hw:0,0) - 44100Hz
  [1] sysdefault - 48000Hz
  [5] spdif - 44100Hz
  [6] default - 48000Hz
‚úÖ Seleccionado autom√°ticamente: [0] USB Audio Device: - (hw:0,0)
‚ö†Ô∏è Dispositivo no admite 16000 Hz, usando 44100 Hz con resampling
LOG (VoskAPI:ReadDataFiles():model.cc:213) Decoding params beam=13 max-active=7000 lattice-beam=6
LOG (VoskAPI:ReadDataFiles():model.cc:216) Silence phones 1:2:3:4:5:6:7:8:9:10
LOG (VoskAPI:RemoveOrphanNodes():nnet-nnet.cc:948) Removed 0 orphan nodes.
LOG (VoskAPI:RemoveOrphanComponents():nnet-nnet.cc:847) Removing 0 orphan components.
LOG (VoskAPI:ReadDataFiles():model.cc:248) Loading i-vector extractor from ai_models/vosk/model/ivector/final.ie
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:183) Computing derived variables for iVector extractor
LOG (VoskAPI:ComputeDerivedVars():ivector-extractor.cc:204) Done.
LOG (VoskAPI:ReadDataFiles():model.cc:279) Loading HCLG from ai_models/vosk/model/graph/HCLG.fst
LOG (VoskAPI:ReadDataFiles():model.cc:297) Loading words from ai_models/vosk/model/graph/words.txt
LOG (VoskAPI:ReadDataFiles():model.cc:308) Loading winfo ai_models/vosk/model/graph/phones/word_boundary.int
LOG (VoskAPI:ReadDataFiles():model.cc:315) Loading subtract G.fst model from ai_models/vosk/model/rescore/G.fst
LOG (VoskAPI:ReadDataFiles():model.cc:317) Loading CARPA model from ai_models/vosk/model/rescore/G.carpa
LOG (VoskAPI:ReadDataFiles():model.cc:323) Loading RNNLM model from ai_models/vosk/model/rnnlm/final.raw
‚úÖ Modelo de voz cargado desde ai_models/vosk/model
‚úÖ Configurado resampling de 44100Hz a 16000Hz
2025-06-23 16:35:57,276 - TARS - INFO - ‚úÖ SpeechListener inicializado correctamente

üé§ Di 'oye tars' para comenzar (Ctrl+C para salir)

üé§ Escuchando... Di 'oye TARS' o algo parecido

