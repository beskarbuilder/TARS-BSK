(tars_venv) tarsadmin@tarspi:~/tars_files $ python3 /home/tarsadmin/tars_files/core/tars_core.py
âœ… Backend GPIO configurado: lgpio
2025-06-13 17:02:52,105 - modules.semantic_engine - INFO - ğŸ§  Motor semÃ¡ntico inicializado con modelo en: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
n
2025-06-13 17:02:54,821 - modules.semantic_engine - INFO - ğŸ“‚ Cargando modelo desde: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-13 17:02:54,821 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-13 17:02:54,822 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: /home/tarsadmin/tars_files/ai_models/sentence_transformers/all-MiniLM-L6-v2
2025-06-13 17:02:55,046 - modules.semantic_engine - INFO - âœ… Modelo cargado correctamente
Batches: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00<00:00, 33.77it/s]
2025-06-13 17:02:55,079 - modules.semantic_engine - INFO - ğŸ§ª Test de inferencia exitoso: vector de dimensiÃ³n 384
2025-06-13 17:02:55,080 - memory.semantic_storage - INFO - Almacenamiento semÃ¡ntico inicializado en: /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-13 17:02:55,083 - memory.semantic_storage - INFO - Cargados 8 embeddings desde /home/tarsadmin/tars_files/memory/embeddings_preferencias.npz
2025-06-13 17:02:55,085 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-13 17:02:55,085 - modules.preferences_manager - INFO -    âœ¨ Entusiasmo (nivel 2+): 2
2025-06-13 17:02:55,085 - modules.preferences_manager - INFO -    ğŸ˜ Neutro (nivel 0-1): 0
2025-06-13 17:02:55,085 - modules.preferences_manager - INFO -    ğŸ™„ Sarcasmo (nivel <0): 3
2025-06-13 17:02:55,086 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-13 17:02:55,088 - TARS.emotion - INFO - âœ… Cargado sarcasmo: 11 temas, 8 patrones, 9 keywords
2025-06-13 17:02:55,090 - TARS.emotion - INFO - âœ… Cargado empatia: 7 temas, 5 patrones, 5 keywords
2025-06-13 17:02:55,091 - TARS.emotion - INFO - âœ… Cargado legacy: 7 temas, 4 patrones, 7 keywords
2025-06-13 17:02:55,092 - TARS - INFO - âœ… Estado emocional inicial: sarcasmo: 85%, empatia: 10%, legacy: 40%
2025-06-13 17:02:55,092 - TARS.LED - INFO - âœ… LED 'azul' inicializado en GPIO17
2025-06-13 17:02:55,093 - TARS.LED - INFO - âœ… LED 'rojo' inicializado en GPIO27
2025-06-13 17:02:55,093 - TARS.LED - INFO - âœ… LED 'verde' inicializado en GPIO22
2025-06-13 17:02:55,093 - TARS - INFO - Detector de intenciones inicializado
2025-06-13 17:02:55,094 - TARS.TTS - INFO - ğŸ›ï¸ Filtro de radio activado: banda=[200, 3500], ruido=True, compresiÃ³n=True, efecto_mando=False, ganancia=0.0dB
2025-06-13 17:02:55,095 - TARS - INFO - ğŸ“Š Preferencias recuperadas: 14
2025-06-13 17:02:55,095 - TARS - INFO - ğŸ§  Preferencias cargadas al inicio: 12 gustos, 2 disgustos
2025-06-13 17:02:55,096 - modules.speaker_identifier - INFO - âœ… Identificador de hablantes inicializado con 1 perfiles
2025-06-13 17:02:55,096 - TARS - INFO - âœ… Identificador de hablantes inicializado
2025-06-13 17:02:55,096 - TARS - INFO - âœ… Cargando modelo desde ai_models/phi3/Phi-3-mini-4k-instruct.Q4_K_M.gguf...
llama_init_from_model: n_ctx_per_seq (160) < n_ctx_train (4096) -- the full capacity of the model will not be utilized
2025-06-13 17:02:55,233 - TARS - INFO - âœ… Modelo cargado en 0.14 segundos
2025-06-13 17:02:55,234 - TARS.BRAIN - INFO - ğŸ§  TARSBrain iniciado - simple=False, forzado=False
2025-06-13 17:02:55,234 - TARS - INFO - ğŸ”Œ Inicializando sistema de plugins...
2025-06-13 17:02:55,234 - TARS.PluginSystem - INFO - ğŸ“‹ ConfiguraciÃ³n de plugins cargada correctamente
2025-06-13 17:02:55,234 - TARS.PluginSystem - INFO - âœ… Plugins habilitados: homeassistant, time, reminder
2025-06-13 17:02:55,234 - TARS.PluginSystem - INFO - ğŸ”Œ Sistema de plugins inicializado
2025-06-13 17:02:55,234 - TARS.PluginSystem - INFO - ğŸš€ Inicializando 3 plugins en orden: ['reminder', 'time', 'homeassistant']
2025-06-13 17:02:55,234 - TARS.PluginSystem - WARNING - âš ï¸ SchedulerPlugin no encontrado, creando uno bÃ¡sico
2025-06-13 17:02:55,234 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-13 17:02:55,234 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-13 17:02:55,234 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-13 17:02:55,235 - TARS.SchedulerPlugin - INFO - ğŸ“‚ Cargados 89 trabajos existentes
2025-06-13 17:02:55,235 - TARS.SchedulerPlugin - INFO - ğŸ—“ï¸ SchedulerPlugin bÃ¡sico inicializado
2025-06-13 17:02:55,235 - TARS.PluginSystem - INFO - âœ… SchedulerPlugin bÃ¡sico creado
2025-06-13 17:02:55,235 - TARS.ReminderParser - WARNING - No se pudo configurar el locale en espaÃ±ol
2025-06-13 17:02:55,235 - TARS.ReminderParser - INFO - ğŸ—“ï¸ ReminderParser inicializado
2025-06-13 17:02:55,235 - TARS.ReminderPlugin - INFO - ğŸ—“ï¸ ReminderPlugin inicializado
2025-06-13 17:02:55,235 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Plugin Reminder inicializado
2025-06-13 17:02:55,236 - TARS.TimePlugin - INFO - ğŸ• TimePlugin inicializado
2025-06-13 17:02:55,236 - TARS.PluginSystem - INFO - ğŸ• Plugin Time inicializado
2025-06-13 17:02:55,236 - TARS.HomeAssistantPlugin - INFO - Plugin Home Assistant inicializado: 192.168.50.112:8084
2025-06-13 17:02:55,246 - TARS.HomeAssistantPlugin - INFO - âœ… ConexiÃ³n con Home Assistant exitosa
2025-06-13 17:02:55,247 - TARS.PluginSystem - INFO - ğŸ  Plugin HomeAssistant inicializado
2025-06-13 17:02:55,247 - TARS - INFO - âœ… Sistema de plugins inicializado correctamente
2025-06-13 17:02:55,247 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: plugin_system recibido: True
2025-06-13 17:02:55,247 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: tipo plugin_system: <class 'services.plugin_system.PluginSystem'>
2025-06-13 17:02:55,247 - TARS.SchedulerPlugin - INFO - ğŸ› CONSTRUCTOR DEBUG: self.plugin_system asignado: True
2025-06-13 17:02:55,247 - TARS.SchedulerPlugin - INFO - ğŸ“‚ Cargados 89 trabajos existentes
2025-06-13 17:02:55,248 - TARS.SchedulerPlugin - INFO - ğŸ—“ï¸ SchedulerPlugin bÃ¡sico inicializado
2025-06-13 17:02:55,248 - TARS - INFO - âœ… SchedulerPlugin inicializado
2025-06-13 17:02:55,248 - TARS - INFO - âœ… TARS inicializado en 0.15 segundos
Â¿Usar entrada por voz? (S):
Escribe tu consulta (o 'salir' para terminar)

TÃº: si
2025-06-13 17:02:57,062 - TARS.PluginSystem - INFO - ğŸ” PluginSystem recibiÃ³ comando: 'si'
2025-06-13 17:02:57,062 - TARS.PluginSystem - INFO - ğŸ”Œ Plugins activos: ['reminder', 'time', 'homeassistant']
2025-06-13 17:02:57,062 - TARS.PluginSystem - INFO - ğŸ• Llamando a TimePlugin.process_command()
2025-06-13 17:02:57,062 - TARS.TimePlugin - INFO - ğŸ• TimePlugin analizando: 'si'
2025-06-13 17:02:57,062 - TARS.TimePlugin - INFO - ğŸ• TimePlugin: comando no relacionado con tiempo
2025-06-13 17:02:57,062 - TARS.PluginSystem - INFO - ğŸ• Respuesta de TimePlugin: â„¹ï¸ Comando no reconocido
2025-06-13 17:02:57,062 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Llamando a ReminderPlugin.process_command()
2025-06-13 17:02:57,062 - TARS.ReminderPlugin - INFO - ğŸ—“ï¸ ReminderPlugin analizando: 'si'
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ—“ï¸ Respuesta de ReminderPlugin: â„¹ï¸ Comando no reconocido
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ  Llamando a HomeAssistant.process_command()
2025-06-13 17:02:57,065 - TARS.HomeAssistantPlugin - INFO - ğŸ  HomeAssistant analizando: 'si'
2025-06-13 17:02:57,065 - TARS.HomeAssistantPlugin - INFO - ğŸ  No se detectÃ³ acciÃ³n clara en el comando
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ  Respuesta de HomeAssistant: â„¹ï¸ Comando no reconocido
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ  Llamando a HomeAssistant.process_query()
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ  Respuesta de query: â„¹ï¸ Query no reconocida
2025-06-13 17:02:57,065 - TARS.PluginSystem - INFO - ğŸ” NingÃºn plugin procesÃ³ el comando
ğŸ” DEBUG GET_EMOTIONAL: input='si'
ğŸ” DEBUG RESPONSES_FOUND: 0 responses after triggers
ğŸ” DEBUG TONE: Starting tone analysis
ğŸ” DEBUG TONE_RESULT: {'dominant_tone': None, 'suggested_emotion': None}
ğŸ” DEBUG CHECK_ALL: should_use_llm=False, response=''
ğŸ” DEBUG: emotion_response='', sarcasmo_level=85, tema='desconocido', nivel=1
2025-06-13 17:02:57,073 - TARS - INFO - âœ… AnÃ¡lisis completo en 0.01s
2025-06-13 17:02:57,073 - TARS - INFO - ğŸ“ Prompt final (3 tokens): Usuario: si
TARS:...
2025-06-13 17:02:57,073 - TARS - INFO - ğŸ”Š Seleccionado archivo de audio: thinking_026.wav
2025-06-13 17:02:57,073 - TARS - INFO - ğŸ§  Generando respuesta...
2025-06-13 17:02:57,074 - TARS - INFO - âš™ï¸ Tokens: promptâ‰ˆ3, disponibles=137, asignados=40
2025-06-13 17:02:57,074 - TARS - INFO - ğŸš¨ PROMPT COMPLETO REAL: 'Usuario: si
TARS:'
2025-06-13 17:02:57,074 - TARS - INFO - ğŸš¨ LONGITUD REAL: 3 palabras
2025-06-13 17:02:59,075 - TARS - INFO - ğŸ”Š Reproduciendo audio de pensamiento...
2025-06-13 17:03:01,643 - TARS - INFO - â±ï¸ Tiempo generando tokens: 4.57s
2025-06-13 17:03:01,644 - TARS - INFO - âœ… Respuesta generada: Buenas, Â¿en quÃ© puedo ayudarte hoy?...
2025-06-13 17:03:01,644 - TARS - INFO - â±ï¸ Esperando a que termine el audio de pensamiento...
2025-06-13 17:03:08,990 - TARS - INFO - âœ… Audio de pensamiento finalizado
2025-06-13 17:03:08,990 - TARS - INFO - âœ… Audio completado, continuando
2025-06-13 17:03:08,990 - TARS - INFO - ğŸ§ª Total proceso respuesta: 11.92s
2025-06-13 17:03:08,991 - TARS - INFO - â±ï¸ Tiempo de espera real tras Ãºltima frase: 11.92s
2025-06-13 17:03:08,991 - TARS - INFO - â¡ï¸ Reproduciendo fragmento: 'Buenas, Â¿en quÃ© puedo ayudarte hoy?'
2025-06-13 17:03:08,991 - TARS.TTS - INFO - ğŸ—£ï¸ Generando voz: 'Buenas, Â¿en quÃ© puedo ayudarte hoy?'
2025-06-13 17:03:09,813 - TARS.TTS - INFO - ğŸ›ï¸ Aplicando Filtro de radio estÃ¡ndar [banda: 200-3500Hz]...
2025-06-13 17:03:09,828 - TARS.RadioFilter - INFO - ğŸ•’ Tiempo de procesamiento de filtro Mandaloriano: 0.015s
2025-06-13 17:03:11,990 - TARS.TTS - INFO - ğŸ”Š ReproducciÃ³n completada
2025-06-13 17:03:12,992 - modules.preferences_manager - INFO - Afinidades de TARS cargadas: 5 total
2025-06-13 17:03:12,993 - modules.preferences_manager - INFO -    âœ¨ Entusiasmo (nivel 2+): 2
2025-06-13 17:03:12,993 - modules.preferences_manager - INFO -    ğŸ˜ Neutro (nivel 0-1): 0
2025-06-13 17:03:12,993 - modules.preferences_manager - INFO -    ğŸ™„ Sarcasmo (nivel <0): 3
2025-06-13 17:03:12,993 - modules.preferences_manager - INFO - Gestor de preferencias inicializado con 5 afinidades
2025-06-13 17:03:12,996 - TARS - INFO - ğŸ“¤ Respuesta generada en 15.93s
TARS: Buenas, Â¿en quÃ© puedo ayudarte hoy?
TÃº: